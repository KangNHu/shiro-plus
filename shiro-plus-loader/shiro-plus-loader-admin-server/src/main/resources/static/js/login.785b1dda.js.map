{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?835e","webpack:///./src/views/Login.vue?dc92"],"names":["class","model","param","rules","ref","label-width","prop","username","placeholder","prepend","icon","type","password","onLogin","data","required","message","trigger","created","this","$store","commit","methods","$refs","login","validate","valid","$message","error","then","token","console","log","saveToken","callUrl","$route","params","call_url","$router","push","removeUserState","render","__scopeId"],"mappings":"+NACOA,MAAM,c,GACJA,MAAM,Y,EACT,yBAAsC,OAAjCA,MAAM,YAAW,cAAU,G,GA2BzBA,MAAM,a,+BACkC,M,EAE7C,yBAA2C,KAAxCA,MAAM,cAAa,qBAAiB,G,iRAhC7C,yBAmCM,MAnCN,EAmCM,CAlCJ,yBAiCM,MAjCN,EAiCM,CAhCJ,EACA,yBA8BU,GA7BPC,MAAO,EAAAC,MACPC,MAAO,EAAAA,MACRC,IAAI,QACJC,cAAY,MACZL,MAAM,c,YAEN,iBAMe,CANf,yBAMe,GANDM,KAAK,YAAU,C,WAC3B,iBAIW,CAJX,yBAIW,G,WAJQ,EAAAJ,MAAMK,S,qDAAN,EAAAL,MAAMK,SAAQ,IAAEC,YAAY,Y,CAClCC,QAAO,GAChB,iBAA2C,CAA3C,yBAA2C,GAAhCC,KAAK,qB,iCAItB,yBAWe,GAXDJ,KAAK,YAAU,C,WAC3B,iBASW,CATX,yBASW,GARTK,KAAK,WACLH,YAAY,W,WACH,EAAAN,MAAMU,S,qDAAN,EAAAV,MAAMU,SAAQ,IACtB,QAAK,sBAAQ,EAAAC,QAAO,Y,CAEVJ,QAAO,GAChB,iBAA2C,CAA3C,yBAA2C,GAAhCC,KAAK,qB,2CAItB,yBAEM,MAFN,EAEM,CADJ,yBAAyD,GAA9CC,KAAK,UAAW,QAAO,EAAAE,S,YAAS,iBAAE,C,4BAE/C,M,yDASO,GACbC,KADa,WAEX,MAAO,CACLZ,MAAO,CACLK,SAAU,QACVK,SAAU,cAEZT,MAAO,CACLI,SAAU,CACR,CAAEQ,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAEhDL,SAAU,CAAC,CAAEG,UAAU,EAAMC,QAAS,QAASC,QAAS,YAI9DC,QAfa,WAgBXC,KAAKC,OAAOC,OAAO,cAErBC,QAAS,CACPT,QADO,WACG,WACRM,KAAKI,MAAMC,MAAMC,UAAS,SAACC,GACzB,IAAIA,EAcF,OADA,EAAKC,SAASC,MAAM,aACb,EAbP,OAAQJ,MAAM,EAAKtB,OAAO2B,MAAK,SAACC,GAC9B,GAAIA,EAAO,CACTC,QAAQC,IAAIF,GACZ,OAAGG,UAAUH,GACb,IAAII,EAAU,EAAKC,OAAOC,OAAOC,SACjC,EAAKC,QAAQC,KAAKL,GAAoB,UAEpC,OAAGM,kBACH,EAAKb,SAASC,MAAM,sB,UCnEpC,EAAOa,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf","file":"js/login.785b1dda.js","sourcesContent":["<template>\n  <div class=\"login-wrap\">\n    <div class=\"ms-login\">\n      <div class=\"ms-title\">shiro plus</div>\n      <el-form\n        :model=\"param\"\n        :rules=\"rules\"\n        ref=\"login\"\n        label-width=\"0px\"\n        class=\"ms-content\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"param.username\" placeholder=\"username\">\n            <template #prepend>\n              <el-button icon=\"el-icon-user\"></el-button>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input\n            type=\"password\"\n            placeholder=\"password\"\n            v-model=\"param.password\"\n            @keyup.enter=\"onLogin\"\n          >\n            <template #prepend>\n              <el-button icon=\"el-icon-lock\"></el-button>\n            </template>\n          </el-input>\n        </el-form-item>\n        <div class=\"login-btn\">\n          <el-button type=\"primary\" @click=\"onLogin\">登录</el-button>\n        </div>\n        <p class=\"login-tips\">Tips : 用户名和密码随便填。</p>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport userApi from \"../api/UserApi\";\nimport ut from '../utils/userUtils';\nexport default {\n  data() {\n    return {\n      param: {\n        username: \"admin\",\n        password: \"ning123456\",\n      },\n      rules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n        ],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n      },\n    };\n  },\n  created() {\n    this.$store.commit(\"clearTags\");\n  },\n  methods: {\n    onLogin() {\n      this.$refs.login.validate((valid) => {\n        if (valid) {\n          userApi.login(this.param).then((token) => {\n            if (token) {\n              console.log(token);\n              ut.saveToken(token)\n              let callUrl = this.$route.params.call_url\n              this.$router.push(callUrl ? callUrl : \"/\");\n            }else{\n                ut.removeUserState();\n                this.$message.error(\"获取token失败\")\n            }\n          });\n        } else {\n          this.$message.error(\"请输入账号和密码\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-wrap {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-image: url(../assets/img/login-bg.jpg);\n  background-size: 100%;\n}\n.ms-title {\n  width: 100%;\n  line-height: 50px;\n  text-align: center;\n  font-size: 20px;\n  color: #fff;\n  border-bottom: 1px solid #ddd;\n}\n.ms-login {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 350px;\n  margin: -190px 0 0 -175px;\n  border-radius: 5px;\n  background: rgba(255, 255, 255, 0.3);\n  overflow: hidden;\n}\n.ms-content {\n  padding: 30px 30px;\n}\n.login-btn {\n  text-align: center;\n}\n.login-btn button {\n  width: 100%;\n  height: 36px;\n  margin-bottom: 10px;\n}\n.login-tips {\n  font-size: 12px;\n  line-height: 30px;\n  color: #fff;\n}\n</style>","import { render } from \"./Login.vue?vue&type=template&id=1399883c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=1399883c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1399883c\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=1399883c&scoped=true&lang=css\""],"sourceRoot":""}